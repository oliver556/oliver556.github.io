---
title: NVM ç®¡ç†å¤šç‰ˆæœ¬ Node
date: 2022-04-21 17:21:35
permalink: /pages/df2de7/
categories:
  - ã€Šç¯å¢ƒã€‹ç¬”è®°
  - Node
tags:
  - Node
---

# NVM ç®¡ç†å¤šç‰ˆæœ¬ Node

## ğŸ“–. å‰è¨€

æˆ‘ä»¬æ„å»ºä¸€äº›é¡¹ç›®æ—¶ï¼Œç»å¸¸éœ€è¦æ—§ç‰ˆæœ¬çš„ nodeï¼Œå¦‚ Hexo ç›®å‰æ”¯æŒæ€§æ¯”è¾ƒå¥½çš„ç‰ˆæœ¬æ˜¯ v12ï¼Œè€Œæœ€æ–°çš„ Node ç¨³å®šç‰ˆæœ¬æ˜¯ v16ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä¸ºäº†é¿å… bugï¼Œæˆ‘ä»¬éœ€è¦åˆ‡æ¢ Node ç‰ˆæœ¬ã€‚

**è­¦å‘Šâš ï¸ï¼šååˆ†ä¸æ¨èä½¿ç”¨ NPM ä¸‹ï¼Œn æ¨¡å—æ¥ç®¡ç† Node ç‰ˆæœ¬**

## ä¸€. ç¯å¢ƒå‡†å¤‡

æœ¬æ¬¡æ•™ç¨‹ï¼Œé€‚ç”¨äº Macã€Linux å’Œ Windowsï¼Œä½¿ç”¨ NVM ç®¡ç† Node ç‰ˆæœ¬ã€‚

- **For Mac/Linux**ï¼š[https://github.com/nvm-sh/nvm](https://github.com/nvm-sh/nvm)
- **For Windows**ï¼š[https://github.com/coreybutler/nvm-windows](https://github.com/coreybutler/nvm-windows)

é…ç½®å‰ï¼Œè¯·äº‹å…ˆå¸è½½ä½ å·²ç»å®‰è£…çš„ Node ç‰ˆæœ¬å’Œé…ç½®çš„ç¯å¢ƒå˜é‡ï¼Œé¿å…å†²çªã€‚

## äºŒ. Mac / Linux

Mac å’Œ Linux éƒ½å¯ä»¥ä½¿ç”¨ç¼–è¯‘å®‰è£…çš„æ–¹æ³•ï¼Œå®‰è£… NVMã€‚ä½†æ˜¯ Mac ç”¨æˆ·è¿˜æ˜¯æ¨èä½¿ç”¨ Homebrew æ¥å®‰è£… NVMã€‚

ä»¥ä¸‹æ–¹æ³•ï¼Œå‚è€ƒ NVM é¡¹ç›®å‘å¸ƒåœ°å€ï¼š[https://github.com/nvm-sh/nvm](https://github.com/nvm-sh/nvm)ã€‚å®‰è£…å®Œæˆåï¼Œç»ˆç«¯è¾“å…¥

```bash
nvm
```

æœªæŠ¥ `command not find` é”™è¯¯ï¼Œè¯´æ˜ NVM å·²ç»å®‰è£…æˆåŠŸã€‚

### 2.1 å®‰è£… NVMï¼ˆæ¨èğŸ‘‰ï¼‰

**Mac ä¸“å±: Homebrew å®‰è£…**ï¼šåœ¨å®‰è£… Homebrew æƒ…å†µä¸‹ï¼Œç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¡Œï¼Œå³å¯å®Œæˆå®‰è£…ã€‚

```bash
brew install nvm
```

æ£€æŸ¥ç¯å¢ƒå˜é‡çš„é…ç½®ï¼š

```bash
cat ~/.bash_profile
```

å¦‚æœå‡ºç°ä»¥ä¸‹å†…å®¹åˆ™æ˜¯é…ç½®å¥½äº†ï¼Œå¦åˆ™è¯·åŠ ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ° `.bash_profile` æ–‡ä»¶ä¸­ï¼š

```text
# This loads nvm
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"
```

æ·»åŠ å®Œåéœ€è¦é‡å¯è„šæœ¬ï¼š

```bash
source ~/.bash_profile
```

æ³¨æ„ï¼šâš ï¸ ä½¿ç”¨ `zsh` çš„ç”¨æˆ·ï¼Œæ¯æ¬¡æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£éƒ½ä¼šæ— æ³•ä½¿ç”¨ `nvm` å‘½ä»¤ï¼Œéœ€è¦æŠŠ `.bash_profile` æ·»åŠ åˆ° `.zshrc` æ–‡ä»¶ä¸­ï¼š
> 1. æ‰“å¼€ `~/.zshrc` æ–‡ä»¶
> 2. æ‰¾åˆ° `# User configuration` æ‰€åœ¨çš„è¡Œ
> 3. åœ¨ä¸‹æ–¹æ·»åŠ  `source ~/.bash_profile`
> 4. ä¿å­˜é€€å‡ºåé‡æ–°æ‰§è¡Œè„šæœ¬ `source ~/.zshrc`

éªŒè¯æ˜¯å¦å®‰è£…å®Œæˆï¼ˆå…³é—­ç»ˆç«¯ï¼Œé‡æ–°æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£)ï¼š

```bash
nvm --version
```

### 2.2 å®‰è£…å›½å†…æº

å¤§é™†è¿™è¾¹è¿æ¥ Node å’Œ NPM æºæœ‰ç‚¹å¿™ï¼Œè¿›è€ŒNVMä¹Ÿæ¯”è¾ƒæ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¢æˆå›½å†…æºï¼Œåœ¨ç»ˆç«¯å†…è¾“å…¥ï¼š

```bash
export NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/mirrors/node/
```

### 2.3 å®‰è£… Node

`nvm` å®‰è£…å®Œæˆåå°±å¯ä»¥å¼€å§‹ç®¡ç† `nodejs` çš„ç‰ˆæœ¬äº†

```bash
# æœ€æ–°çš„ lts ç‰ˆæœ¬
nvm install --lts

# windows éœ€è¦ç²¾å‡†çš„ç‰ˆæœ¬å·æ‰å¯ä»¥ä¸‹è½½ï¼ˆv è¦ä¸è¦éƒ½å¯ä»¥ï¼‰
nvm install v12.18.1
```

å®‰è£…å®Œåéœ€è¦åˆ‡æ¢ Node ç‰ˆæœ¬

```bash
# macOS ç³»ç»Ÿçš„ use æŒ‡ä»¤åªæ˜¯ä¸´æ—¶åˆ‡æ¢
nvm alias default 12.18.1

# windows åœ¨é¦–æ¬¡å®‰è£…å®Œåå¿…é¡»æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œå¦åˆ™æ— æ³•æ‰¾åˆ° node å‘½ä»¤ï¼Œ
nvm use v10.16.3
```

é…ç½®æ·˜å®é•œåƒï¼š

```bash
npm config set registry https://registry.npm.taobao.org --global 
npm config set disturl https://npm.taobao.org/dist --global
```

éªŒè¯æ˜¯å¦å®‰è£…å®Œæˆï¼š

```bash
npm -v
npx -v
node -v
```

##  ä¸‰. Windows

å¦‚æœä½ çš„æ“ä½œç³»ç»Ÿæ˜¯Windowsç³»ç»Ÿ

### 3.1 å®‰è£… NVM

è¿›å…¥NVM-Windowsé¡¹ç›®å‘å¸ƒåœ°å€ï¼š[https://github.com/coreybutler/nvm-windows/releases](https://github.com/coreybutler/nvm-windows/releases)ï¼Œé€‰æ‹©æœ€æ–°å‘è¡Œç‰ˆæœ¬ä¸‹è½½ï¼š

![nvm_04-21-01](https://cdn.jsdelivr.net/gh/oliver556/image-hosting@master/20220421/nvm_04-21-01.2cw4bkur7r9.webp)

<img-desc :num="'3.1-1'" :title="'ä¸‹è½½å®‰è£…ç‰ˆæœ¬ï¼Œæ–¹ä¾¿é…ç½®'" />

ä¹‹åï¼Œè§£å‹å‡ºè‡ªå‹ç¼©æ–‡ä»¶ï¼Œç‚¹å‡»å®‰è£…ï¼š

![nvm_04-21-02](https://cdn.jsdelivr.net/gh/oliver556/image-hosting@master/20220421/nvm_04-21-02.2tpsl5pxeko0.webp)

<img-desc :num="'3.1-2'" :title="'è§£å‹'" />

è¿™è¾¹æ³¨æ„âš ï¸ï¼šNVMçš„å®‰è£…å’Œé…ç½®è·¯å¾„ä¸è¦æœ‰ä¸­æ–‡ï¼Œå› ä¸ºæˆ‘Windowsè™šæ‹Ÿæœºåªåˆ†é…Cç›˜ï¼Œå¤§å®¶å¯ä»¥æœ€å¥½å®‰è£…åˆ°Dç›˜ç­‰å…¶ä»–ç”¨æˆ·ç›˜ï¼š

![nvm_04-21-03](https://cdn.jsdelivr.net/gh/oliver556/image-hosting@master/20220421/nvm_04-21-03.5cwdxnf8wfs0.webp)

<img-desc :num="'3.1-3'" :title="'è·¯å¾„ä¸è¦æœ‰ä¸­æ–‡'" />

![nvm_04-21-04](https://cdn.jsdelivr.net/gh/oliver556/image-hosting@master/20220421/nvm_04-21-04.5jp2ivtoxmo0.webp)

<img-desc :num="'3.1-4'" :title="'ä¸€æ ·ä¸è¦ä¸­æ–‡è·¯å¾„'" />

å®‰è£…å®Œæˆåï¼Œåœ¨CMDæˆ–è€…Powershellä¸‹ï¼Œè¾“å…¥NVMï¼Œå³å¯å‘ç°å®‰è£…å®Œæˆï¼š

![nvm_04-21-05](https://cdn.jsdelivr.net/gh/oliver556/image-hosting@master/20220421/nvm_04-21-05.3ctyiwh74yq0.webp)

<img-desc :num="'3.1-5'" :title="'å®‰è£…å®Œæˆ'" />

### 3.2 é…ç½®å›½å†…æº

å¤§é™†è¿™è¾¹è¿æ¥Nodeå’ŒNPMæºæœ‰ç‚¹å¿™ï¼Œè¿›è€ŒNVMä¹Ÿæ¯”è¾ƒæ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¢æˆå›½å†…æºï¼š

åˆ°ä½ NVMå®‰è£…è·¯å¾„ï¼Œæ‰“å¼€setting.txtæ–‡ä»¶ï¼Œè¿½åŠ ï¼š

```bash
# nodeä½¿ç”¨æ·˜å®æº
node_mirror: http://npm.taobao.org/mirrors/node/ 

# npmä½¿ç”¨æ·˜å®æº
npm_mirror: https://npm.taobao.org/mirrors/npm/
```

![nvm_04-21-06](https://cdn.jsdelivr.net/gh/oliver556/image-hosting@master/20220421/nvm_04-21-06.1pb34mor9o68.webp)

<img-desc :num="'3.1-6'" :title="'æ¢æº'" />

### 3.3 å®‰è£… Node

é¦–å…ˆï¼Œæˆ‘ä»¬è¾“å…¥ï¼š

```bash
nvm list
```

æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬

![nvm_04-21-07](https://cdn.jsdelivr.net/gh/oliver556/image-hosting@master/20220421/nvm_04-21-07.5xlgplivimw0.webp)

<img-desc :num="'3.1-7'" :title="'æ²¡å®‰è£…ä»»ä½•ç‰ˆæœ¬'" />

ä¹‹åï¼Œæˆ‘ä»¬å®‰è£…v12.21ç‰ˆæœ¬nodeï¼š

![nvm_04-21-08](https://cdn.jsdelivr.net/gh/oliver556/image-hosting@master/20220421/nvm_04-21-08.1brhr4qru3pc.webp)

<img-desc :num="'3.1-8'" :title="'å®‰è£…12.21'" />

è¿™æ ·å°±å·²ç»å®‰è£…å¥½äº†ï¼Œæˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ä¹Ÿæ˜¯å¯ä»¥ç”¨çš„ï¼š

![nvm_04-21-09](https://cdn.jsdelivr.net/gh/oliver556/image-hosting@master/20220421/nvm_04-21-09.8wt8bmi69hw.webp)

<img-desc :num="'3.1-9'" :title="'ä½¿ç”¨node'" />

##  å››. NVM å¸¸ç”¨å‘½ä»¤

**macOSï¼š**:point_down:

| å‘½ä»¤                         | è¯´æ˜                                        |
|:----------------------------|:--------------------------------------------|
| `nvm install --lts`         | ä¸‹è½½æœ€æ–°çš„ç¨³å®šç‰ˆ                               |
| `nvm use` <ç‰ˆæœ¬å·>           | ä¸´æ—¶åˆ‡æ¢ç‰ˆæœ¬                                  |
| `nvm alias default` <ç‰ˆæœ¬å·> | æ°¸ä¹…åˆ‡æ¢ç‰ˆæœ¬ï¼ˆç‰ˆæœ¬åˆ«åï¼Œdefaultå°±æ˜¯é»˜è®¤ä½¿ç”¨çš„ç‰ˆæœ¬ï¼‰ |
| `nvm uninstall` <ç‰ˆæœ¬å·>     | åˆ é™¤æŒ‡å®šç‰ˆæœ¬                                  |
| `nvm ls`                    | æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰ç‰ˆæœ¬                               |
| `nvm ls-remote --lts`       | æŸ¥çœ‹çº¿ä¸Šæ‰€æœ‰ç¨³å®šç‰ˆ                             |

**Windowsï¼š**:point_down:

| å‘½ä»¤                     | è¯´æ˜          |
|:------------------------|:--------------|
| `nvm install` <ç‰ˆæœ¬å·>   | ä¸‹è½½æŒ‡å®šç‰ˆæœ¬    |
| `nvm use` <ç‰ˆæœ¬å·>       | åˆ‡æ¢ç‰ˆæœ¬       |
| `nvm uninstall` <ç‰ˆæœ¬å·> | åˆ é™¤æŒ‡å®šç‰ˆæœ¬    |
| `nvm list available`    | æŸ¥çœ‹çº¿ä¸Šæ‰€æœ‰ç‰ˆæœ¬ |

## :door:. å‚è€ƒ

- [å¦‚ä½•ä½¿ç”¨ NVM å®‰è£…å¹¶ç®¡ç†å¤šç‰ˆæœ¬ Node](https://cloud.tencent.com/developer/article/1812323)
- [ä½¿ç”¨ nvm å®‰è£… nodejs](https://segmentfault.com/a/1190000020807954)
- [ä¸€ç¯‡æ–‡ç« äº†è§£ Mac ä¸Š Node ç¯å¢ƒé…ç½®](https://segmentfault.com/a/1190000015416829)
