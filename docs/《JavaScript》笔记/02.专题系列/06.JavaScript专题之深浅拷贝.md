---
title: JavaScript ä¸“é¢˜ä¹‹æ·±æµ…æ‹·è´
date: 2021-10-24 00:03:30
permalink: /pages/6fd293/
categories:
  - å‰ç«¯æŠ€æœ¯
tags:
  - Webå¼€å‘
  - JavaScript
  - ä¸“é¢˜ç³»åˆ—
author:
  name: Jamison
  link: https://github.com/oliver556
---

# JavaScript ä¸“é¢˜ä¹‹æ·±æµ…æ‹·è´

## ğŸ“–. å‰è¨€

æ‹·è´ä¹Ÿæ˜¯é¢è¯•ç»å…¸å‘ï¼

## ä¸€. æ•°ç»„çš„æµ…æ‹·è´

å¦‚æœæ˜¯æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ•°ç»„çš„ä¸€äº›æ–¹æ³•æ¯”å¦‚ï¼š`slice`ã€`concat` è¿”å›ä¸€ä¸ªæ–°æ•°ç»„çš„ç‰¹æ€§æ¥å®ç°æ‹·è´ã€‚

æ¯”å¦‚ï¼š

```js
var arr = ['old', 1, true, null, undefined];

var new_arr = arr.concat();

new_arr[0] = 'new';

console.log(arr); // ["old", 1, true, null, undefined]
console.log(new_arr); // ["new", 1, true, null, undefined]
````

ç”¨ `slice` å¯ä»¥è¿™æ ·åšï¼š

```js
var new_arr = arr.slice();
```

ä½†æ˜¯å¦‚æœæ•°ç»„åµŒå¥—äº†å¯¹è±¡æˆ–è€…æ•°ç»„çš„è¯ï¼Œæ¯”å¦‚ï¼š

```js
var arr = [{old: 'old'}, ['old']];

var new_arr = arr.concat();

arr[0].old = 'new';
arr[1][0] = 'new';

console.log(arr); // [{old: 'new'}, ['new']]
console.log(new_arr); // [{old: 'new'}, ['new']]
```

æˆ‘ä»¬ä¼šå‘ç°ï¼Œæ— è®ºæ˜¯æ–°æ•°ç»„è¿˜æ˜¯æ—§æ•°ç»„éƒ½å‘ç”Ÿäº†å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨ concat æ–¹æ³•ï¼Œå…‹éš†çš„å¹¶ä¸å½»åº•ã€‚

å¦‚æœæ•°ç»„å…ƒç´ æ˜¯åŸºæœ¬ç±»å‹ï¼Œå°±ä¼šæ‹·è´ä¸€ä»½ï¼Œäº’ä¸å½±å“ï¼Œè€Œå¦‚æœæ˜¯å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œå°±ä¼šåªæ‹·è´å¯¹è±¡å’Œæ•°ç»„çš„å¼•ç”¨ï¼Œè¿™æ ·æˆ‘ä»¬æ— è®ºåœ¨æ–°æ—§æ•°ç»„è¿›è¡Œäº†ä¿®æ”¹ï¼Œä¸¤è€…éƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚

æˆ‘ä»¬æŠŠè¿™ç§å¤åˆ¶å¼•ç”¨çš„æ‹·è´æ–¹æ³•ç§°ä¹‹ä¸ºæµ…æ‹·è´ï¼Œä¸ä¹‹å¯¹åº”çš„å°±æ˜¯æ·±æ‹·è´ï¼Œæ·±æ‹·è´å°±æ˜¯æŒ‡å®Œå…¨çš„æ‹·è´ä¸€ä¸ªå¯¹è±¡ï¼Œå³ä½¿åµŒå¥—äº†å¯¹è±¡ï¼Œä¸¤è€…ä¹Ÿç›¸äº’åˆ†ç¦»ï¼Œä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œä¹Ÿä¸ä¼šå½±å“å¦ä¸€ä¸ªã€‚

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹å‡ºä½¿ç”¨ `concat` å’Œ `slice` æ˜¯ä¸€ç§æµ…æ‹·è´ã€‚

## äºŒ. æ•°ç»„çš„æ·±æ‹·è´

é‚£å¦‚ä½•æ·±æ‹·è´ä¸€ä¸ªæ•°ç»„å‘¢ï¼Ÿè¿™é‡Œä»‹ç»ä¸€ä¸ªæŠ€å·§ï¼Œä¸ä»…é€‚ç”¨äºæ•°ç»„è¿˜é€‚ç”¨äºå¯¹è±¡ï¼é‚£å°±æ˜¯ï¼š

```js
var arr = ['old', 1, true, ['old1', 'old2'], {old: 1}]

var new_arr = JSON.parse( JSON.stringify(arr) );

console.log(new_arr);
```

æ˜¯ä¸€ä¸ªç®€å•ç²—æš´çš„å¥½æ–¹æ³•ï¼Œå°±æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸èƒ½æ‹·è´å‡½æ•°ï¼Œæˆ‘ä»¬åšä¸ªè¯•éªŒï¼š

```js
var arr = [function(){
  console.log(a)
}, {
  b: function(){
    console.log(b)
  }
}]

var new_arr = JSON.parse(JSON.stringify(arr));

console.log(new_arr);
```

æˆ‘ä»¬ä¼šå‘ç° new_arr å˜æˆäº†ï¼š

![javascript_03-15_01](https://cdn.staticaly.com/gh/oliver556/image-hosting@master/20220315/javascript_03-15_01.4d3vxnu5onm0.webp)

## ä¸‰. æµ…æ‹·è´çš„å®ç°

ä»¥ä¸Šä¸‰ä¸ªæ–¹æ³• `concat`ã€sliceã€`JSON.stringify` éƒ½ç®—æ˜¯æŠ€å·§ç±»ï¼Œå¯ä»¥æ ¹æ®å®é™…é¡¹ç›®æƒ…å†µé€‰æ‹©ä½¿ç”¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ€è€ƒä¸‹å¦‚ä½•å®ç°ä¸€ä¸ªå¯¹è±¡æˆ–è€…æ•°ç»„çš„æµ…æ‹·è´ã€‚

æƒ³ä¸€æƒ³ï¼Œå¥½åƒå¾ˆç®€å•ï¼Œéå†å¯¹è±¡ï¼Œç„¶åæŠŠå±æ€§å’Œå±æ€§å€¼éƒ½æ”¾åœ¨ä¸€ä¸ªæ–°çš„å¯¹è±¡ä¸å°±å¥½äº†~

å—¯ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œæ³¨æ„å‡ ä¸ªå°ç‚¹å°±å¯ä»¥äº†ï¼š

```js
var shallowCopy = function(obj) {
  // åªæ‹·è´å¯¹è±¡
  if (typeof obj !== 'object') return;
  // æ ¹æ®objçš„ç±»å‹åˆ¤æ–­æ˜¯æ–°å»ºä¸€ä¸ªæ•°ç»„è¿˜æ˜¯å¯¹è±¡
  var newObj = obj instanceof Array ? [] : {};
  // éå†objï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯objçš„å±æ€§æ‰æ‹·è´
  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      newObj[key] = obj[key];
    }
  }
  return newObj;
}
```

## å››. æ·±æ‹·è´çš„å®ç°

é‚£å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´å‘¢ï¼Ÿè¯´èµ·æ¥ä¹Ÿå¥½ç®€å•ï¼Œæˆ‘ä»¬åœ¨æ‹·è´çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹å±æ€§å€¼çš„ç±»å‹ï¼Œå¦‚æœæ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬é€’å½’è°ƒç”¨æ·±æ‹·è´å‡½æ•°ä¸å°±å¥½äº†~

```js
var deepCopy = function(obj) {
  if (typeof obj !== 'object') return;
  var newObj = obj instanceof Array ? [] : {};
  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      newObj[key] = typeof obj[key] === 'object' ? deepCopy(obj[key]) : obj[key];
    }
  }
return newObj;
}
```

## äº”. æ€§èƒ½é—®é¢˜

å°½ç®¡ä½¿ç”¨æ·±æ‹·è´ä¼šå®Œå…¨çš„å…‹éš†ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œä½†æ˜¯æ·±æ‹·è´å› ä¸ºä½¿ç”¨é€’å½’ï¼Œæ€§èƒ½ä¼šä¸å¦‚æµ…æ‹·è´ï¼Œåœ¨å¼€å‘ä¸­ï¼Œè¿˜æ˜¯è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ã€‚

## å…­. ä¸‹æœŸé¢„å‘Š

éš¾é“åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Ÿæ˜¯çš„ã€‚ç„¶è€Œæœ¬ç¯‡å®é™…ä¸Šæ˜¯ä¸€ä¸ªé“ºå«ï¼Œæˆ‘ä»¬çœŸæ­£è¦çœ‹çš„æ˜¯ jquery çš„ extend å‡½æ•°çš„å®ç°ï¼Œä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬ä¼šè®²ä¸€è®²å¦‚ä½•ä»é›¶å®ç°ä¸€ä¸ª jquery çš„ extend å‡½æ•°ã€‚

