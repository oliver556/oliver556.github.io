---
title: vue-router é‡å¤ç‚¹å‡»æŠ¥é”™
date: 2021-05-26 20:54:25
permalink: /pages/0d349a/
categories:
  - å‰ç«¯æŠ€æœ¯
tags:
  - Webå¼€å‘
  - Vue.js å®è·µè¸©å‘
---

# vue-router é‡å¤ç‚¹å‡»æŠ¥é”™

## ğŸ“–. å‰è¨€

æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨é¡¹ç›®ä¸­é‡åˆ°çš„ä¸€ä¸ªå°é—®é¢˜ï¼Œä½¿ç”¨ Vue æ„å»ºçš„é¡¹ç›®é‡Œï¼Œæœ‰æ—¶å€™ä¼šå­˜åœ¨ **é‡å¤ç‚¹å‡»è·¯ç”±** æŠ¥é”™çš„é—®é¢˜ï¼Œ`Uncaught (in promise) NavigationDuplicated:Avoided redundant navigation to current location`ã€‚

è™½ç„¶è¿™ä¸ªæŠ¥é”™å¹¶ä¸å½±å“ç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯ä¾ç„¶è®©äººæ„Ÿåˆ°å¾ˆä¸çˆ½ï¼Œè¿™æ®µä»£ç ä¹Ÿå·®ä¸å¤šæ˜¯æˆ‘åœ¨æ„å»ºé¡¹ç›®æ—¶ç”¨çš„æŒºå¤šçš„ä¸€æ®µä»£ç ã€‚

è€Œä¸”è¯¶ï¼Œåº”è¯¥ä¹Ÿæœ‰å¾ˆå¤šèŒæ–°é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ä¸çŸ¥é“å¦‚ä½•è§£å†³ï¼Œæ‰€ä»¥åœ¨è¿™è¾¹è®°å½•ä¸€ä¸‹ã€‚

é€ æˆè¿™ä¸ªæŠ¥é”™çš„åŸå› ï¼Œå¤§å¤šæ˜¯è¯´ï¼Œå› ä¸º Vue-Router ç‰ˆæœ¬çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘å°è¯•æ›´æ¢äº†ä¸åŒç‰ˆæœ¬ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å¾—åˆ°è§£å†³ï¼Œè¿˜æ˜¯è¿™æ®µä»£ç å¥½ä½¿ï¼

## ä¸€. è§£å†³æ–¹æ³•

åœ¨ `router/index.js` æ–‡ä»¶ä¸­æ·»åŠ ä¸€æ®µä»£ç å³å¯ï¼š

```js
// è§£å†³é‡å¤ç‚¹å‡»è·¯ç”±æŠ¥é”™çš„ Bug
const originalPush = VueRouter.prototype.push
VueRouter.prototype.push = function push(location) {
  return originalPush.call(this, location).catch((err) => err)
}
```

å½“ç„¶ä½ ä¹Ÿå¯ä»¥æ·»åŠ åœ¨ `main.js` ä¸­ï¼Œæˆ‘æ›´ä¹ æƒ¯äºæ·»åŠ åœ¨ `router/index.js`ã€‚
