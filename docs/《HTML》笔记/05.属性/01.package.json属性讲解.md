---
title: package.json å±æ€§è®²è§£
date: 2022-07-13 18:22:58
permalink: /pages/ca039d/
categories:
  - å‰ç«¯æŠ€æœ¯
tags:
  - package
---

# package.json å±æ€§è®²è§£

## ğŸ“–. å‰è¨€

ä¹‹æ‰€ä»¥å†™ä¸‹è¿™ç¯‡æ–‡ï¼Œæ˜¯å› ä¸ºå‰ä¸¤å¤©å¿½ç„¶å‘ç°ï¼Œ`package.json` é‡Œçš„ **ç‰ˆæœ¬å· **æˆ‘å¥½åƒå°±æ²¡æ³¨æ„è¿‡äº†ï¼Œä¸€ä¼š `~` å¼€å¤´ï¼Œä¸€ä¼š `^` å¼€å¤´ï¼Œéƒ½æ˜¯ä¸ªå•¥ï¼Ÿç„¶åä»”ç»†å›æƒ³äº†ä¸‹å‘ç°æˆ‘å¥½åƒå¹¶æ²¡æœ‰çœŸçš„äº†è§£è¿‡è¿™ç©æ„ï¼Œ
æ¯æ¬¡æ‰“å¼€ä¸ªé¡¹ç›®éƒ½æ˜¯ `npm install` ä¸€æ³¢æ•²æ•²å¯åŠ¨å‘½ä»¤å°±å®Œäº‹äº†ã€‚äº‹åæ·±åˆ»åæ€äº†ä¸‹è§‰å¾—è¿™æ ·å¹¶ä¸å¥½ ~~ä¸‡ä¸€æŸå¤©æ¥ä¸ªäººé—®ä½ è¿™é‡Œçš„XXæ˜¯å•¥æ„æ€ä½ éƒ½è¯´ä¸ä¸Šæ¥é‚£å¤šå°´å°¬~~ï¼Œäºæ˜¯å°±æœ‰äº†è¿™ç¯‡æ–‡ã€‚

> æœ¬æ–‡æ¡£æ˜¯è‡ªå·±çœ‹å®˜æ–¹æ–‡æ¡£çš„ç†è§£ + ç¿»è¯‘ï¼Œå†…å®¹æ˜¯ `package.json` é…ç½®é‡Œè¾¹çš„å±æ€§å«ä¹‰ã€‚`package.json` å¿…é¡»æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„ `json` æ–‡ä»¶ï¼Œè€Œä¸ä»…ä»…æ˜¯ `js` é‡Œè¾¹çš„ä¸€ä¸ªå¯¹è±¡ã€‚å…¶ä¸­å¾ˆå¤šå±æ€§å¯ä»¥é€šè¿‡ `npm-config` æ¥ç”Ÿæˆã€‚

### 1. npm

åœ¨ä»‹ç» `package.json` å‰ï¼Œéœ€è¦å…ˆä»‹ç»ä¸€ä¸‹ `npm`ã€‚`npm` å°±æ˜¯ä¸€ä¸ªåŒ…å«äº†å¾ˆå¤š `Javascript` åŒ…ï¼ˆ`package`ï¼‰çš„å…¬æœ‰ä»“åº“ï¼ˆ`registry`ï¼‰ï¼Œå¼€æºå¼€å‘è€…ä»¬å¯ä»¥è´¡çŒ®åŒ…ï¼Œä¹Ÿå¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä¸‹è½½åŒ…ã€‚

æœ‰å…³ `package` å’Œ `modules` çš„æè¿°å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£([**About packages and modules**](https://docs.npmjs.com/about-packages-and-modules))ï¼ˆ~~è¿™æ³¢æ‡’å¾—ç¿»è¯‘äº†~~ï¼‰

### 2. package.json

`package.json` æ˜¯ç”¨æ¥ç®¡ç†åŒ…çš„ã€‚è¦å°†ä¸€ä¸ªåŒ…å‘å¸ƒåˆ°npmä¸­ï¼Œå¿…é¡»è¦åŒ…å«ä¸€ä¸ªpackage.jsonæ–‡ä»¶ã€‚

`package.json` æ–‡ä»¶çš„ä½œç”¨ï¼š

- åˆ—ä¸¾å‡ºä½ çš„é¡¹ç›®æ‰€ä¾èµ–çš„åŒ…ï¼›
- æ˜ç¡®ä½ çš„é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨çš„åŒ…çš„ç‰ˆæœ¬ï¼›
- è®©ä½ çš„åŒ…èƒ½å¤Ÿè¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œæ›´åŠ å®¹æ˜“å’Œå…¶ä»–å¼€å‘è€…åˆ†äº«ï¼›


### 3. mkdir package.json

åˆ›å»ºæ–¹å¼æœ‰ä¸¤ç§ï¼Œé€šè¿‡å‘½ä»¤è¡Œåˆ›å»ºæˆ–è€…ç›´æ¥åˆ›å»ºé»˜è®¤çš„ `package.json` æ–‡ä»¶ã€‚

å‘½ä»¤è¡Œï¼š è¿›å…¥é¡¹ç›®ç›®å½• â†’ `npm init`ï¼Œç„¶åé€šè¿‡å‘½ä»¤è¡Œäº¤äº’è¿›è¡Œåˆ›å»ºå³å¯ã€‚

> è‡ªå®šä¹‰åˆ›å»º package.json çš„å‘½ä»¤è¡Œäº¤äº’ï¼šå¯å‚è€ƒ [init-package-json](https://github.com/npm/init-package-json)

åˆ›å»ºé»˜è®¤æ–‡ä»¶ï¼šå¯ä»¥ä½¿ç”¨å½“å‰ç›®å½•å†…æŠ½å–çš„ä¿¡æ¯ç›´æ¥ç”Ÿæˆé»˜è®¤çš„ `package.json` æ–‡ä»¶ã€‚è¿›å…¥é¡¹ç›®ç›®å½• â†’ `npm init --yes` | `npm init -y`

æˆ‘ä»¬ä¹Ÿå¯ä»¥é…ç½®åˆå§‹åŒ–å‘½ä»¤çš„é…ç½®é¡¹æ¥è®¾ç½®é»˜è®¤å€¼ï¼š

```
> npm set init.author.email "example-user@example.com"
> npm set init.author.name "example_user"
> npm set init.license "MIT"
```

##  äºŒ. é…ç½®é¡¹å±æ€§

### 1. name

`package.json` ä¸­æœ€é‡è¦çš„å±æ€§æ˜¯ `name` å’Œ `version` ä¸¤ä¸ªå±æ€§ï¼Œè¿™ä¸¤ä¸ªå±æ€§æ˜¯å¿…é¡»è¦æœ‰çš„ï¼Œå¦åˆ™æ¨¡å—å°±æ— æ³•è¢«å®‰è£…ï¼Œè¿™ä¸¤ä¸ªå±æ€§ä¸€èµ·å½¢æˆäº†ä¸€ä¸ª npm æ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦ ã€‚æ¨¡å—ä¸­å†…å®¹å˜æ›´çš„åŒæ—¶ï¼Œæ¨¡å—ç‰ˆæœ¬ä¹Ÿåº”è¯¥ä¸€èµ·å˜åŒ–ã€‚

å¦‚æœä½ è¦å‘å¸ƒä½ çš„åŒ…ï¼Œé‚£ä¹ˆé…ç½® name å’Œ version å­—æ®µæ˜¯å¿…é¡»è¦å¡«å†™ä¸”ååˆ†é‡è¦çš„ï¼›å¦‚æœå¹¶ä¸éœ€è¦å‘å¸ƒï¼Œé‚£ä¹ˆ name å’Œ version æ˜¯å¯é€‰çš„ã€‚

å¯¹äº name å’Œ version å­—æ®µæœ‰ä¸€äº›é™åˆ¶ï¼š

> name å±æ€§å°±æ˜¯ä½ çš„æ¨¡å—åç§°ï¼Œä¸‹é¢æ˜¯ä¸€äº›å‘½åè§„åˆ™:

- name **ä¸èƒ½å¤§äº214ä¸ªå­—ç¬¦**ã€‚å¦‚æœæ˜¯ä½œç”¨åŸŸåŒ…ï¼ˆå‰ç¼€åç§°ï¼‰ï¼Œä¹ŸåŒ…å«å®ƒçš„ä½œç”¨åŸŸï¼ˆå¦‚ xxx/xxxmoduleï¼‰ã€‚
- ä½œç”¨åŸŸåŒ…çš„ name å¯ä»¥ä»¥ `.`æˆ–è€… `_` å¼€å¤´ã€‚éä½œç”¨åŸŸåŒ…çš„è¯æ˜¯ä¸å…è®¸çš„ã€‚
- æ–°åŒ…çš„ name ä¸­ **ä¸èƒ½åŒ…å«å¤§å†™å­—æ¯**ã€‚
- name æœ€ç»ˆä¼šæˆä¸º URL/å‘½ä»¤è¡Œä¸­çš„å‚æ•°/æ–‡ä»¶åçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ name ä¸­ä¸èƒ½åŒ…å« **éURLå®‰å…¨çš„å­—ç¬¦**ã€‚

> ä¸‹é¢æ˜¯å®˜ç½‘çš„ä¸€äº›å»ºè®®

- ä¸è¦ä½¿ç”¨å’Œ node æ ¸å¿ƒæ¨¡å—ä¸€æ ·çš„åç§°ã€‚
- name ä¸­ä¸è¦å«æœ‰ `js`å’Œ `node`ã€‚
  - It's assumed that it's js, since you're writing a package.json file, and you can specify the engine using the "engines" field. (See below.)
- name å±æ€§ä¼šæˆä¸ºæ¨¡å—urlã€å‘½ä»¤è¡Œä¸­çš„ä¸€ä¸ªå‚æ•°æˆ–è€…ä¸€ä¸ªæ–‡ä»¶å¤¹åç§°ï¼Œä»»ä½•é url å®‰å…¨çš„å­—ç¬¦åœ¨ name ä¸­éƒ½ä¸èƒ½ä½¿ç”¨ï¼Œä¹Ÿä¸èƒ½ä»¥ `_`æˆ– `.`å¼€å¤´ã€‚
- name å±æ€§ä¹Ÿè®¸ä¼šè¢«å†™åœ¨ `require()`çš„å‚æ•°ä¸­ï¼Œæ‰€ä»¥æœ€å¥½å–ä¸ªç®€çŸ­è€Œè¯­ä¹‰åŒ–çš„å€¼ã€‚
- åˆ›å»ºä¸€ä¸ªæ¨¡å—å‰å¯ä»¥å…ˆåˆ°åè¾¹çš„ç½‘å€æŸ¥æŸ¥ name æ˜¯å¦å·²ç»è¢«å ç”¨. [https://www.npmjs.com/](https://www.npmjs.com/)

**
> name å±æ€§å¯ä»¥æœ‰ä¸€äº›å‰ç¼€å¦‚ e.g. `@myorg/mypackage`
> åœ¨ npm-scope(7) çš„æ–‡æ¡£ä¸­å¯ä»¥çœ‹åˆ°è¯¦ç»†è¯´æ˜

### 2. version

å¯¹äºè¦å‘å¸ƒçš„åŒ…æ¥è¯´ï¼Œversion å’Œ name ä¸€æ ·é‡è¦ã€‚version å¿…é¡»èƒ½å¤Ÿè¢« npm ä¾èµ–çš„ä¸€ä¸ª `node-semver`æ¨¡å—è§£æã€‚å…·ä½“è§„åˆ™è§ä¸‹é¢çš„ [dependencies](#_17-dependencies) æ¨¡å—ã€‚

### 3. description

ä¸€ä¸ªæè¿°ï¼Œæ–¹ä¾¿åˆ«äººäº†è§£ä½ çš„æ¨¡å—ä½œç”¨ã€‚ä¹Ÿèƒ½å¤Ÿå¸®åŠ©åˆ«äººä½¿ç”¨ `npm search`æœç´¢åˆ°ä½ çš„åŒ…ã€‚

### 4. keywords
ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå’Œ description ä¸€æ ·èƒ½å¤Ÿå¸®åŠ©äººä»¬ä½¿ç”¨ `npm search`æœç´¢åˆ°ä½ çš„åŒ…ã€‚

### 5. homepage

> æ³¨æ„ï¼šè¿™ä¸ªé¡¹ç›® `ä¸»é¡µurl`å’Œ `urlå±æ€§`ä¸åŒï¼Œå¦‚æœä½ å¡«å†™äº† url å±æ€§ï¼Œnpm æ³¨å†Œå·¥å…·ä¼šè®¤ä¸ºä½ æŠŠé¡¹ç›®å‘å¸ƒåˆ°å…¶ä»–åœ°æ–¹äº†ï¼Œè·å–æ¨¡å—çš„æ—¶å€™ä¸ä¼šä» npm å®˜æ–¹ä»“åº“è·å–ï¼Œè€Œæ˜¯ä¼šé‡å®šå‘åˆ° url å±æ€§é…ç½®çš„åœ°å€ã€‚
>
> åŸæ–‡æ¡£ä¸­ç”¨äº† spit (å)è¿™ä¸ªå•è¯ï¼Œä½œè€…è¡¨ç¤ºä»–ä¸æ˜¯åœ¨å¼€ç©ç¬‘:

é“¾æ¥åˆ°é¡¹ç›®ä¸»é¡µçš„ URL
```json
"homepage": "https://github.com/owner/project#readme"
```

### 6. bugs

é“¾æ¥åˆ°é¡¹ç›® `issues` çš„ url æˆ–è€… æ `issues` çš„é‚®ç®±åœ°å€ã€‚è¢«ä½ çš„æ¨¡å—ï¼Œå‘åˆ°çš„äººå¯ä»¥é€šè¿‡è¿™é‡Œåæ§½

url å’Œ email å¯ä»¥ä»»æ„å¡«æˆ–ä¸å¡«ï¼Œå¦‚æœåªå¡«ä¸€ä¸ªï¼Œå¯ä»¥ç›´æ¥å†™æˆä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯å¯¹è±¡ã€‚å¦‚æœå¡«å†™äº† urlï¼Œ`npm bugs` å‘½ä»¤ä¼šä½¿ç”¨è¿™ä¸ª urlã€‚

```json
{
  "url": "https://github.com/owner/project/issues",
  "email": "project@hostname.com"
}
```

### 7. license

ä½ åº”è¯¥ä¸ºä½ çš„æ¨¡å—æŒ‡å®šä¸€ä¸ª license åè®®ï¼Œè®©å…¶ä»–ç”¨æˆ·å°±èƒ½å¤ŸçŸ¥é“ä½ çš„åŒ…å¯ä»¥å¦‚ä½•ä½¿ç”¨ï¼Œä½¿ç”¨è¯¥æ¨¡å—æœ‰å“ªäº›é™åˆ¶ã€‚åœ¨ä¸€äº›æ—§çš„åŒ…ä¸­ license æ˜¯ä½¿ç”¨å¯¹è±¡ or å¯¹è±¡æ•°ç»„å£°æ˜çš„ï¼Œç°åœ¨å·²ç»ä¸æ¨èä½¿ç”¨äº†ã€‚

ä½ å¯ä»¥åœ¨ [https://spdx.org/licenses/](https://spdx.org/licenses/) è¿™ä¸ªåœ°å€æŸ¥é˜…åè®®åˆ—è¡¨ ã€‚

æœ€ç®€å•çš„ï¼Œä¾‹å¦‚ä½ ç”¨ BSD-3-Clause æˆ– MIT ä¹‹ç±»çš„åè®®ï¼Œå¦‚ä¸‹ï¼š

```json
{ 
  "license" : "BSD-3-Clause" 
}
```

### 8. author, contributors

**author** æ˜¯ä¸€ä¸ªç å†œä½œè€…ï¼Œ "contributors" æ˜¯ä¸€ä¸ªç å†œè´¡çŒ®è€…æ•°ç»„ï¼Œurl å’Œ email å¯é€‰ï¼Œæè¿°ç”¨æˆ·ä¿¡æ¯çš„è¿˜æœ‰ä¸€ä¸ª "maintainers"ï¼ˆç»´æŠ¤è€…ï¼‰å±æ€§ã€‚

**person** æ˜¯ä¸€ä¸ªæœ‰ä¸€äº›æè¿°å±æ€§çš„å¯¹è±¡ï¼Œå¦‚ä¸‹ like thisï¼š

```json
{ 
  "name" : "Barney Rubble",
  "email" : "b@rubble.com",
  "url" : "http://barnyrubble.tumblr.com/"
}
```

æˆ–è€…å¯ä»¥ç®€å†™åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œnpm ä¼šè‡ªåŠ¨è§£æï¼š

```json
{
  "author": "Barney Rubble <b@rubble.com> (http://barnyrubble.tumblr.com/)"
}
```

### 9. files

**files** å±æ€§çš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå†…å®¹æ˜¯æ¨¡å—ä¸‹æ–‡ä»¶åæˆ–è€…æ–‡ä»¶å¤¹åï¼Œå¦‚æœæ˜¯æ–‡ä»¶å¤¹åï¼Œåˆ™æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ä¹Ÿä¼šè¢«åŒ…å«è¿›æ¥ï¼ˆé™¤éæ–‡ä»¶è¢«å¦ä¸€äº›é…ç½®æ’é™¤äº†ï¼‰

ä½ ä¹Ÿå¯ä»¥åœ¨æ¨¡å—æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.npmignore` æ–‡ä»¶ï¼ˆwindows ä¸‹æ— æ³•ç›´æ¥åˆ›å»ºä»¥"."å¼€å¤´çš„æ–‡ä»¶ï¼Œä½¿ç”¨ linux å‘½ä»¤è¡Œå·¥å…·åˆ›å»ºå¦‚ git bashï¼‰ï¼Œå†™åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œè¾¹çš„æ–‡ä»¶å³ä¾¿è¢«å†™åœ¨ files å±æ€§ é‡Œè¾¹ä¹Ÿä¼šè¢«æ’é™¤åœ¨å¤–ï¼Œè¿™ä¸ªæ–‡ä»¶çš„å†™æ³• `.gitignore` ç±»ä¼¼ã€‚

### 10. main

> å¦‚æœä½ çš„æ¨¡å—æ˜¯ç”¨åœ¨å®¢æˆ·ç«¯ä¸Šçš„ï¼Œé‚£ä¹ˆåº”è¯¥æŒ‡å®š `browser` å­—æ®µè€Œä¸æ˜¯ `main` å­—æ®µã€‚

**main** å±æ€§æŒ‡å®šäº†ç¨‹åºçš„ä¸»å…¥å£æ–‡ä»¶ã€‚æ„æ€æ˜¯ï¼Œå¦‚æœä½ çš„æ¨¡å—è¢«å‘½åä¸º fooï¼Œç”¨æˆ·å®‰è£…äº†è¿™ä¸ªæ¨¡å—å¹¶é€šè¿‡ require("foo") æ¥ä½¿ç”¨è¿™ä¸ªæ¨¡å—ï¼Œé‚£ä¹ˆ require è¿”å›çš„å†…å®¹å°±æ˜¯ main å±æ€§æŒ‡å®šçš„æ–‡ä»¶ä¸­ `module.exports` æŒ‡å‘çš„å¯¹è±¡ã€‚

å®ƒåº”è¯¥æŒ‡å‘æ¨¡å—æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶ã€‚å¯¹å¤§å¯¹æ•°æ¨¡å—è€Œè¨€ï¼Œè¿™ä¸ªå±æ€§æ›´å¤šçš„æ˜¯è®©æ¨¡å—æœ‰ä¸€ä¸ªä¸»å…¥å£æ–‡ä»¶ï¼Œç„¶è€Œå¾ˆå¤šæ¨¡å—å¹¶ä¸å†™è¿™ä¸ªå±æ€§ã€‚

### 11. bin

å¾ˆå¤šæ¨¡å—æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªéœ€è¦é…ç½®åˆ° PATH è·¯å¾„ä¸‹çš„å¯æ‰§è¡Œæ¨¡å—ï¼Œnpm è®©è¿™ä¸ªå·¥ä½œå˜å¾—ååˆ†ç®€å•ï¼ˆå®é™…ä¸Š npm æœ¬èº«ä¹Ÿæ˜¯é€šè¿‡ bin å±æ€§å®‰è£…ä¸ºä¸€ä¸ªå¯æ‰§è¡Œå‘½ä»¤çš„ï¼‰

binå­—æ®µåŒ…å«äº†ä¸€ç»„å‘½ä»¤åˆ°æœ¬åœ°æ–‡ä»¶åçš„æ˜ å°„ã€‚å®‰è£…åŒ…çš„æ—¶å€™ï¼Œå¯¹äºå…¨å±€å®‰è£… npm ä¼šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶åˆ°`prefix/bin`çš„ç¬¦å·é“¾æ¥ï¼Œè€Œå¯¹äºå±€éƒ¨å®‰è£…ï¼Œnpmä¼šåˆ›å»ºæ–‡ä»¶åˆ° `./node_modules/.bin/` çš„ç¬¦å·é“¾æ¥ã€‚

```json
{
  "bin": {
    "myapp": "./cli.js"
  }
}
```

æ¨¡å—å®‰è£…çš„æ—¶å€™ï¼Œè‹¥æ˜¯å…¨å±€å®‰è£…ï¼Œåˆ™ npm ä¼šä¸º bin ä¸­é…ç½®çš„æ–‡ä»¶åœ¨ bin ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªè½¯è¿æ¥ï¼ˆå¯¹äºwindowsç³»ç»Ÿï¼Œé»˜è®¤ä¼šåœ¨ `C:\Users\username\AppData\Roaming\npm` ç›®å½•ä¸‹ï¼‰ï¼Œè‹¥æ˜¯å±€éƒ¨å®‰è£…ï¼Œ
åˆ™ä¼šåœ¨é¡¹ç›®å†…çš„ `./node_modules/.bin/` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥ã€‚

æ­¤ï¼ŒæŒ‰ä¸Šé¢çš„ä¾‹å­ï¼Œå½“æˆ‘ä»¬å®‰è£… myapp çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šåˆ›å»ºä¸€ä¸ªä» `cli.js` åˆ° `/usr/local/bin/myapp` çš„ç¬¦å·é“¾æ¥ã€‚

å¦‚æœä½ çš„åŒ…ä¸­åªæœ‰ä¸€æ¡å¯æ‰§è¡Œå‘½ä»¤å¹¶ä¸”å‘½ä»¤åç§°å’ŒåŒ…åç›¸åŒï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥ç”¨å­—ç¬¦ä¸²æ¥å£°æ˜ï¼š

```json
{
  "name": "my-program",
  "version": "1.2.5",
  "bin": "./path/to/program"
}
```

### 12. man

åˆ¶å®šä¸€ä¸ªæˆ–é€šè¿‡æ•°ç»„åˆ¶å®šä¸€äº›æ–‡ä»¶æ¥è®© linux ä¸‹çš„ man å‘½ä»¤æŸ¥æ‰¾æ–‡æ¡£åœ°å€ã€‚

å¦‚æœåªæœ‰ä¸€ä¸ªæ–‡ä»¶è¢«æŒ‡å®šçš„è¯ï¼Œå®‰è£…åç›´æ¥ä½¿ç”¨ man + æ¨¡å—åç§°ï¼Œè€Œä¸ç®¡ man æŒ‡å®šçš„æ–‡ä»¶çš„å®é™…åç§°ã€‚ä¾‹å¦‚:

```json
{ 
  "name" : "foo",
  "version" : "1.2.3",
  "description" : "A packaged foo fooer for fooing foos",
  "main" : "foo.js",
  "man" : "./man/doc.1"
}
```

é€šè¿‡ `man foo` å‘½ä»¤ä¼šå¾—åˆ° `./man/doc.1` æ–‡ä»¶çš„å†…å®¹ã€‚

å¦‚æœ man æ–‡ä»¶åç§° ä¸æ˜¯ä»¥æ¨¡å—åç§°å¼€å¤´çš„ï¼Œå®‰è£…çš„æ—¶å€™ä¼šç»™åŠ ä¸Šæ¨¡å—åç§°å‰ç¼€ã€‚å› æ­¤ï¼Œä¸‹é¢è¿™æ®µé…ç½®ï¼š

```json
{ 
  "name" : "foo",
  "version" : "1.2.3",
  "description" : "A packaged foo fooer for fooing foos",
  "main" : "foo.js",
  "man" : [ "./man/foo.1", "./man/bar.1" ]
}
```

ä¼šåˆ›å»ºä¸€äº›æ–‡ä»¶æ¥ä½œä¸º `man foo` å’Œ `man foo-bar` å‘½ä»¤çš„ç»“æœã€‚

man æ–‡ä»¶å¿…é¡»ä»¥æ•°å­—ç»“å°¾ï¼Œæˆ–è€…å¦‚æœè¢«å‹ç¼©äº†ï¼Œä»¥ `.gz` ç»“å°¾ã€‚æ•°å­—è¡¨ç¤ºæ–‡ä»¶å°†è¢«å®‰è£…åˆ° man çš„å“ªä¸ªéƒ¨åˆ†ã€‚

```json
{ 
  "name" : "foo",
  "version" : "1.2.3",
  "description" : "A packaged foo fooer for fooing foos",
  "main" : "foo.js",
  "man" : [ "./man/foo.1", "./man/foo.2" ]
}
```

ä¼šåˆ›å»º `man foo` å’Œ `man 2 foo` ä¸¤æ¡å‘½ä»¤ã€‚

### 13. directories

CommonJs é€šè¿‡ directories æ¥åˆ¶å®šä¸€äº›æ–¹æ³•æ¥æè¿°æ¨¡å—çš„ç»“æ„ï¼Œçœ‹çœ‹ npm çš„ package.json æ–‡ä»¶ [https://registry.npmjs.org/npm/latest](https://registry.npmjs.org/npm/latest) ï¼Œå¯ä»¥å‘ç°é‡Œè¾¹æœ‰è¿™ä¸ªå­—æ®µçš„å†…å®¹ã€‚

```json
"directories": {
  "bin": "./bin",
  "doc": "./doc",
  "lib": "./lib",
  "man": "./man"
},
```

ç›®å‰è¿™ä¸ªé…ç½®æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼Œå°†æ¥å¯èƒ½ä¼šæ•´å‡ºä¸€äº›èŠ±æ ·æ¥ã€‚

#### (1). directories.lib

å‘Šè¯‰ç”¨æˆ·æ¨¡å—ä¸­ lib ç›®å½•åœ¨å“ªï¼Œè¿™ä¸ªé…ç½®ç›®å‰æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼Œä½†æ˜¯å¯¹ä½¿ç”¨æ¨¡å—çš„äººæ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„ä¿¡æ¯ã€‚


#### (2). directories.bin

å¦‚æœä½ åœ¨è¿™é‡ŒæŒ‡å®šäº† bin ç›®å½•ï¼Œè¿™ä¸ªé…ç½®ä¸‹é¢çš„æ–‡ä»¶ä¼šè¢«åŠ å…¥åˆ°binè·¯å¾„ä¸‹ï¼Œå¦‚æœä½ å·²ç»åœ¨ package.json ä¸­é…ç½®äº† binç›®å½•ï¼Œé‚£ä¹ˆè¿™é‡Œçš„é…ç½®å°†ä¸èµ·ä»»ä½•ä½œç”¨ã€‚

#### (3). directories.man

æŒ‡å®šä¸€ä¸ªç›®å½•ï¼Œç›®å½•é‡Œè¾¹éƒ½æ˜¯ man æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ç§é…ç½® man æ–‡ä»¶çš„è¯­æ³•ç³–ã€‚

#### (4). directories.doc

åœ¨è¿™ä¸ªç›®å½•é‡Œè¾¹æ”¾ä¸€äº› markdown æ–‡ä»¶ï¼Œå¯èƒ½æœ€ç»ˆæœ‰ä¸€å¤©å®ƒä»¬ä¼šè¢«å‹å¥½çš„å±•ç°å‡ºæ¥ï¼ˆåº”è¯¥æ˜¯åœ¨ npm çš„ç½‘ç«™ä¸Šï¼‰

#### (4). directories.example

æ”¾ä¸€äº›ç¤ºä¾‹è„šæœ¬ï¼Œæˆ–è®¸æŸä¸€å¤©ä¼šæœ‰ç”¨ - -ï¼

### 14. repository

æŒ‡å®šäº†ä»£ç ä»“åº“çš„ä½ç½®ï¼Œå¯¹æƒ³è¦ä¸ºä½ çš„é¡¹ç›®è´¡çŒ®ä»£ç çš„äººæœ‰å¸®åŠ©ã€‚åƒè¿™æ ·ï¼š

```json
"repository" :
  {
    "type" : "git",
    "url" : "https://github.com/npm/npm.git"
  }

"repository" :
  {
    "type" : "svn",
    "url" : "https://v8.googlecode.com/svn/trunk/"
  }
```

è‹¥ä½ çš„æ¨¡å—æ”¾åœ¨ `GitHub` , `GitHub gist` , `Bitbucket` , or `GitLab` çš„ä»“åº“é‡Œï¼Œ `npm install` çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ç¼©å†™æ ‡è®°æ¥å®Œæˆï¼š

```json
"repository": "npm/npm"

"repository": "gist:11081aaa281"

"repository": "bitbucket:example/repo"

"repository": "gitlab:another/repo"
```

### 15. script

scripts å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œè¾¹æŒ‡å®šäº†é¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸä¸ªå„ä¸ªç¯èŠ‚éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚key æ˜¯ç”Ÿå‘½å‘¨æœŸä¸­çš„äº‹ä»¶ï¼Œvalue æ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚  
å…·ä½“çš„å†…å®¹æœ‰ install start stop ç­‰ï¼Œè¯¦è§ [Scripts](https://docs.npmjs.com/cli/v7/using-npm/scripts)ã€‚

### 16. config

ç”¨æ¥è®¾ç½®ä¸€äº›é¡¹ç›®ä¸æ€ä¹ˆå˜åŒ–çš„é¡¹ç›®é…ç½®ï¼Œä¾‹å¦‚ port ç­‰ã€‚

ç”¨æˆ·ç”¨çš„æ—¶å€™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ç”¨æ³•ï¼š

```
http.createServer(...).listen(process.env.npm_package_config_port)
```

å¯ä»¥é€šè¿‡ `npm config set foo:port 80` æ¥ä¿®æ”¹ configã€‚è¯¦è§ [Config](https://docs.npmjs.com/misc/config)ã€‚

```json
{ 
  "name" : "foo",
  "config" : { 
    "port" : "8080"
  }
}
```

### 17. dependencies

dependencies å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé…ç½®æ¨¡å—ä¾èµ–çš„æ¨¡å—åˆ—è¡¨ï¼Œkey æ˜¯æ¨¡å—åç§°ï¼Œvalue æ˜¯ç‰ˆæœ¬èŒƒå›´ï¼Œç‰ˆæœ¬èŒƒå›´æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥è¢«ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åˆ†å‰²ã€‚

dependencies ä¹Ÿå¯ä»¥è¢«æŒ‡å®šä¸º `tarballï¼ˆå‹ç¼©åŒ…ï¼‰` æˆ– `git URLï¼ˆGitåœ°å€ï¼‰` æ ‡è¯†ã€‚

> æ³¨æ„ï¼šè¯·ä¸è¦å°†æµ‹è¯•ã€ç¼–è¯‘æˆ–è€…å…¶ä»–åœ¨å¼€å‘é˜¶æ®µä½¿ç”¨çš„å·¥å…·æ”¾åœ¨ `dependencies` ä¸­ã€‚


ç‰ˆæœ¬èŒƒå›´è¯´æ˜ï¼šè¯¦è§[node-semverï¼šREADME](https://github.com/npm/node-semver#readme) Versions éƒ¨åˆ†ã€‚

> ç›¸å…³é˜…è¯»ï¼š[è¯­ä¹‰åŒ–ç‰ˆæœ¬å·](https://semver.org/lang/zh-CN/)


æ‘˜å–ä¸€éƒ¨åˆ†å¸¸è§ç‰ˆæœ¬èŒƒå›´è¯´æ˜ï¼š

|   æ“ä½œç¬¦   |     **æ„ä¹‰**      |                          **è¯´æ˜**                           |
|:---------:|:----------------:|:----------------------------------------------------------:|
| `version` | ç­‰äºï¼ˆç²¾ç¡®åŒ¹é…ç‰ˆæœ¬ï¼‰ |                   1.27 å°†ä»…ä¸”åªåŒ¹é…ç‰ˆæœ¬1.27                   |
|    `<`    |       å°äº        | <1.2.7 å°†åŒ¹é…ç‰ˆæœ¬1.2.6ã€1.0.1ã€0.0.2ï¼Œä½†ä¸åŒ¹é…ç‰ˆæœ¬1.2.7ã€2.0.0ç­‰ |
|   `<=`    |      å°äºç­‰äº      |   <=1.2.7 å°†åŒ¹é…ç‰ˆæœ¬1.2.7ã€1.2.6ï¼Œä½†ä¸åŒ¹é…ç‰ˆæœ¬1.2.8ã€2.0.0ç­‰    |
|    `>`    |       å¤§äº        |    >1.2.7 å°†åŒ¹é…ç‰ˆæœ¬1.2.8ã€2.0.0ï¼Œä½†ä¸åŒ¹é…ç‰ˆæœ¬1.2.7ã€1.0.0ç­‰     |
|   `>=`    |      å¤§äºç­‰äº      |   >=1.2.7 å°†åŒ¹é…ç‰ˆæœ¬1.2.7ã€2.0.0ï¼Œä½†ä¸åŒ¹é…ç‰ˆæœ¬1.2.6ã€1.0.0ç­‰    |
|    `~`    |    åŒ¹é…æ¬¡è¦ç‰ˆæœ¬    |      ~1.2.3ï¼š= >=1.2.3 <1.(2+1).0ï¼š= >=1.2.3 <1.3.0-0       |
|    `~`    |    åŒ¹é…æ¬¡è¦ç‰ˆæœ¬    |       ~1.2ï¼š= >=1.2.0 <1.(2+1).0ï¼š= >=1.2.0 <1.3.0-0        |
|    `~`    |    åŒ¹é…æ¬¡è¦ç‰ˆæœ¬    |        ~1ï¼š= >=1.0.0 <(1+1).0.0ï¼š= >=1.0.0 <2.0.0-0         |
|    `^`    |    åŒ¹é…å…¼å®¹ç‰ˆæœ¬    |     ^2.3.1ï¼šä¸2.3.1ç‰ˆæœ¬å…¼å®¹å³>=2.3.1 < 3.0.0,ä¸æ”¹å˜å¤§ç‰ˆæœ¬å·      |

```json
{ 
  "dependencies" :
  { 
    "foo" : "1.0.0 - 2.9999.9999", // ç›¸å½“äº >=version1 <=version2
    "bar" : ">=1.0.2 <2.1.2", // ç›¸å½“äº >= 1.0.2 < 2.1.2 ä¹‹é—´çš„ç‰ˆæœ¬
    "baz" : ">1.0.2 <=2.3.4", // ç›¸å½“äº > 1.0.2 <= 2.3.4 ä¹‹é—´çš„ç‰ˆæœ¬
    "boo" : "2.0.1", // åªåŒ¹é… 2.0.1 ç‰ˆæœ¬
    "qux" : "<1.0.0 || >=2.3.1 <2.4.5 || >=2.5.2 <3.0.0",
    "asd" : "http://asdf.com/asdf.tar.gz",
    "til" : "~1.2", // ç›¸å½“äº >= 1.2.0 < 1.3.0-0
    "elf" : "~1.2.3", // ç›¸å½“äº >= 1.2.3 < 1.3.0-0
    "two" : "2.x", // ä»… 2.å‡  çš„ç‰ˆæœ¬
    "thr" : "3.3.x", // ä»… 3.3.å‡  çš„ç‰ˆæœ¬
    "lat" : "latest",
    "dyl" : "file:../dyl",
  }
}
```

### 18. URLs as Dependencies

åœ¨ç‰ˆæœ¬èŒƒå›´çš„åœ°æ–¹å¯ä»¥å†™ä¸€ä¸ª url æŒ‡å‘ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œæ¨¡å—å®‰è£…çš„æ—¶å€™ä¼šæŠŠè¿™ä¸ªå‹ç¼©åŒ…ä¸‹è½½ä¸‹æ¥å®‰è£…åˆ°æ¨¡å—æœ¬åœ°ã€‚

### 19. Git URLs as Dependencies

> `commit-ish` å¯ä»¥æ˜¯ä»»æ„æ ‡ç­¾ï¼Œå“ˆå¸Œå€¼ï¼Œæˆ–è€…å¯ä»¥æ£€å‡ºçš„åˆ†æ”¯ï¼Œé»˜è®¤æ˜¯ master åˆ†æ”¯ã€‚

Git url å¯ä»¥åƒä¸‹é¢ä¸€æ ·:

```bash
git://github.com/user/project.git#commit-ish
git+ssh://user@hostname:project.git#commit-ish
git+ssh://user@hostname/project.git#commit-ish
git+http://user@hostname/project/blah.git#commit-ish
git+https://user@hostname/project/blah.git#commit-ish
```

### 20. GitHub URLs

æ”¯æŒ github çš„ `username/modulename` çš„å†™æ³•ï¼Œ# åè¾¹å¯ä»¥åŠ åç¼€å†™æ˜åˆ†æ”¯ hash æˆ– æ ‡ç­¾ï¼š

```json
{
  "name": "foo",
  "version": "0.0.0",
  "dependencies": {
    "express": "visionmedia/express",
    "mocha": "visionmedia/mocha#4727d357ea"
  }
}
```

### 21. Local Paths

`npm2.0.0` ç‰ˆæœ¬ä»¥ä¸Šå¯ä»¥æä¾›ä¸€ä¸ªæœ¬åœ°è·¯å¾„æ¥å®‰è£…ä¸€ä¸ªæœ¬åœ°çš„æ¨¡å—ï¼Œé€šè¿‡ `npm install xxx --save` æ¥å®‰è£…ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```
../foo/bar
~/foo/bar
./foo/bar
/foo/bar
```

`package.json` ç”Ÿæˆçš„ç›¸å¯¹è·¯å¾„å¦‚ä¸‹:

```json
{
  "name": "baz",
  "dependencies": {
    "bar": "file:../foo/bar"
  }
}
```

è¿™ç§å±æ€§åœ¨ç¦»çº¿å¼€å‘æˆ–è€…æµ‹è¯•éœ€è¦ç”¨ `npm install` çš„æƒ…å†µï¼Œåˆä¸æƒ³è‡ªå·±æä¸€ä¸ª `npm server` çš„æ—¶å€™æœ‰ç”¨ï¼Œä½†æ˜¯å‘å¸ƒæ¨¡å—åˆ°å…¬å…±ä»“åº“æ—¶ä¸åº”è¯¥ä½¿ç”¨è¿™ç§å±æ€§ã€‚

### 22. devDependencies

> æµ‹è¯•ã€ç¼–è¯‘æˆ–è€…å…¶ä»–åœ¨å¼€å‘é˜¶æ®µä½¿ç”¨çš„ç›¸å…³å·¥å…·åº”è¯¥æ”¾åœ¨ `devDependencies` ä¸­ã€‚

å¦‚æœæœ‰äººæƒ³è¦ä¸‹è½½å¹¶ä½¿ç”¨ä½ çš„æ¨¡å—ï¼Œä¹Ÿè®¸ä»–ä»¬å¹¶ä¸å¸Œæœ›æˆ–éœ€è¦ä¸‹è½½ä¸€äº›ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨çš„é¢å¤–çš„æµ‹è¯•æˆ–è€…æ–‡æ¡£æ¡†æ¶ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯æŠŠè¿™äº›ä¾èµ–æ·»åŠ åˆ° `devDependencies` å±æ€§çš„å¯¹è±¡ä¸­ã€‚

è¿™äº›æ¨¡å—ä¼šåœ¨ `npm link` æˆ–è€… `npm install` çš„æ—¶å€™è¢«å®‰è£…ï¼Œä¹Ÿå¯ä»¥åƒå…¶ä»–npmé…ç½®ä¸€æ ·è¢«ç®¡ç†ï¼Œè¯¦è§ npm çš„ [Config](https://docs.npmjs.com/misc/config) æ–‡æ¡£ã€‚

å¯¹äºä¸€äº›è·¨å¹³å°çš„æ„å»ºä»»åŠ¡ï¼Œä¾‹å¦‚æŠŠ CoffeeScript ç¼–è¯‘æˆ JavaScriptï¼Œå°±å¯ä»¥é€šè¿‡åœ¨ package.json çš„ script å±æ€§é‡Œè¾¹é…ç½® `prepublish` è„šæœ¬æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼Œç„¶åéœ€è¦ä¾èµ–çš„ `coffee-script` æ¨¡å—å°±å†™åœ¨ `devDependencies` å±æ€§ç§ã€‚

ä¾‹å¦‚ï¼š

```json
{ 
  "name": "ethopia-waza",
  "description": "a delightfully fruity coffee varietal",
  "version": "1.2.3",
  "devDependencies": {
    "coffee-script": "~1.6.3"
  },
  "scripts": {
    "prepublish": "coffee -o lib/ -c src/waza.coffee"
  },
  "main": "lib/waza.js"
}
```

prepublish è„šæœ¬ä¼šåœ¨å‘å¸ƒä¹‹å‰è¿è¡Œï¼Œå› æ­¤ç”¨æˆ·åœ¨ä½¿ç”¨ä¹‹å‰å°±ä¸ç”¨å†è‡ªå·±å»å®Œæˆç¼–è¯‘çš„è¿‡ç¨‹äº†ã€‚åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿è¡Œ `npm install` ä¹Ÿä¼šæ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼ˆè§ npm [Scripts](https://docs.npmjs.com/cli/v7/using-npm/scripts) æ–‡æ¡£ï¼‰ï¼Œå› æ­¤å¯ä»¥å¾ˆæ–¹ä¾¿çš„è°ƒè¯•ã€‚

### 23. peerDependencies

åœ¨æŸäº›å¼€å‘åœºæ™¯ä¸‹ï¼Œä½ çš„åŒ…éœ€è¦æŸäº›ä¾èµ–çš„æ”¯æŒï¼Œä½†æ˜¯æ²¡å¿…è¦å»å®‰è£…ï¼Œå› ä¸ºåŒ…çš„å®¿ä¸»ä¼šå»å®‰è£…è¿™äº›ä¾èµ–ï¼Œè¿™æ—¶å°±å¯ä»¥ç”¨ peerDependencies å»å£°æ˜ä¸€ä¸‹éœ€è¦ä¾èµ–çš„åŒ…å’Œç‰ˆæœ¬ï¼Œå¦‚æœå‡ºé—®é¢˜ npm å°±ä¼šæœ‰è­¦å‘Šæ¥æé†’ä½¿ç”¨è€…å»è§£å†³ç‰ˆæœ¬å†²çªé—®é¢˜ã€‚

æœ‰æ—¶å€™åšä¸€äº›æ’ä»¶å¼€å‘ï¼Œæ¯”å¦‚ grunt ç­‰å·¥å…·çš„æ’ä»¶ï¼Œå®ƒä»¬å¾€å¾€æ˜¯åœ¨ grunt çš„æŸä¸ªç‰ˆæœ¬çš„åŸºç¡€ä¸Šå¼€å‘çš„ï¼Œè€Œåœ¨ä»–ä»¬çš„ä»£ç ä¸­å¹¶ä¸ä¼šå‡ºç° require("grunt") è¿™æ ·çš„ä¾èµ–ï¼Œdependencies é…ç½®é‡Œè¾¹ä¹Ÿä¸ä¼šå†™ä¸Š grunt çš„ä¾èµ–ï¼Œä¸ºäº†è¯´æ˜æ­¤æ¨¡å—åªèƒ½ä½œä¸ºæ’ä»¶è·‘åœ¨å®¿ä¸»çš„æŸä¸ªç‰ˆæœ¬èŒƒå›´ä¸‹ï¼Œå¯ä»¥é…ç½® peerDependenciesï¼š

```json
{
  "name": "tea-latte",
  "version": "1.3.5",
  "peerDependencies": {
    "tea": "2.x"
  }
}
```

ä¸Šé¢è¿™ä¸ªé…ç½®ç¡®ä¿å† npm install çš„æ—¶å€™ tea-latte ä¼šå’Œ 2.x ç‰ˆæœ¬çš„ tea ä¸€èµ·å®‰è£…ï¼Œè€Œä¸”å®ƒä»¬ä¸¤ä¸ªçš„ä¾èµ–å…³ç³»æ˜¯åŒçº§çš„ï¼š

```tree
â”œâ”€â”€ tea-latte@1.3.5
â””â”€â”€ tea@2.2.0
```

ä¸Šé¢è¿™ä¸ªé…ç½®çš„ç›®çš„æ˜¯è®© npm çŸ¥é“ï¼Œå¦‚æœè¦ä½¿ç”¨æ­¤æ’ä»¶æ¨¡å—ï¼Œè¯·ç¡®ä¿å®‰è£…äº†å…¼å®¹ç‰ˆæœ¬çš„å®¿ä¸»æ¨¡å—ã€‚

### 24. bundledDependencies

ä¸Šé¢çš„å•è¯å°‘ä¸ª dï¼Œå†™æˆ `bundleDependencies` ä¹Ÿå¯ä»¥ã€‚æŒ‡å®šå‘å¸ƒçš„æ—¶å€™ä¼šè¢«ä¸€èµ·æ‰“åŒ…çš„æ¨¡å—ã€‚

### 25. optionalDependencies

å¦‚æœä¸€ä¸ªä¾èµ–æ¨¡å—å¯ä»¥è¢«ä½¿ç”¨ï¼Œ åŒæ—¶ä½ ä¹Ÿå¸Œæœ›åœ¨è¯¥æ¨¡å—æ‰¾ä¸åˆ°æˆ–æ— æ³•è·å–æ—¶ npm ç»§ç»­è¿è¡Œï¼Œä½ å¯ä»¥æŠŠè¿™ä¸ªæ¨¡å—ä¾èµ–æ”¾åˆ° `optionalDependencies` é…ç½®ä¸­ã€‚è¿™ä¸ªé…ç½®çš„å†™æ³•å’Œ `dependencies` çš„å†™æ³•ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯è¿™é‡Œè¾¹å†™çš„æ¨¡å—å®‰è£…å¤±è´¥ä¸ä¼šå¯¼è‡´ `npm install` å¤±è´¥ã€‚

å½“ç„¶ï¼Œè¿™ç§æ¨¡å—å°±éœ€è¦ä½ è‡ªå·±åœ¨ä»£ç ä¸­å¤„ç†æ¨¡å—ç¡®å®çš„æƒ…å†µäº†ï¼Œä¾‹å¦‚ï¼š

```javascript
try {
  var foo = require('foo')
  var fooVersion = require('foo/package.json').version
} catch (er) {
  foo = null
}
if ( notGoodFooVersion(fooVersion) ) {
  foo = null
}

// .. then later in your program ..

if (foo) {
  foo.doFooThings()
}
```
optionalDependencies ä¸­çš„é…ç½®ä¼šè¦†ç›– dependencies ä¸­çš„é…ç½®ï¼Œæœ€å¥½åªåœ¨ä¸€ä¸ªåœ°æ–¹å†™ã€‚

### 26. engines

ä½ å¯ä»¥é€šè¿‡ `engines` æ¥æŒ‡å®šé¡¹ç›®è¿è¡Œçš„ node ç‰ˆæœ¬èŒƒå›´ï¼Œå¦‚ä¸‹ï¼š

```json
{
  "engines": {
    "node": ">=0.10.3 <15",
  }
}
```

å’Œ `dependencies` ä¸€æ ·ï¼Œå¦‚æœä½ ä¸æŒ‡å®šç‰ˆæœ¬èŒƒå›´æˆ–è€…æŒ‡å®šä¸º `*`ï¼Œä»»ä½•ç‰ˆæœ¬çš„ node éƒ½å¯ä»¥ã€‚ä¹Ÿå¯ä»¥æŒ‡å®šä¸€äº› npm ç‰ˆæœ¬å¯ä»¥æ­£ç¡®çš„å®‰è£…ä½ çš„æ¨¡å—ï¼Œä¾‹å¦‚ï¼š

```json
{
  "engines": {
    "npm": "~1.0.20"
  }
}
```

è¦æ³¨æ„çš„æ˜¯ï¼Œé™¤éä½ è®¾ç½®äº† engine-strict å±æ€§ï¼Œengines å±æ€§æ˜¯ä»…ä¾›å‚è€ƒçš„ã€‚

### 27. engineStrict

> æ³¨æ„ï¼šè¿™ä¸ªå±æ€§å·²ç»å¼ƒç”¨ï¼Œå°†åœ¨ npm 3.0.0 ç‰ˆæœ¬å¹²æ‰ã€‚

### 28. os

å¯ä»¥ç”¨æ¥æŒ‡å®šä½ çš„ç¨‹åºè¿è¡Œçš„æ“ä½œç³»ç»Ÿï¼š

```json
{
  "os": [
    "darwin",
    "linux"
  ]
}
```

ä¹Ÿå¯ä»¥æŒ‡å®šé»‘åå•è€Œä¸æ˜¯ç™½åå•ï¼š

```json
{
  "os" : [ 
    "!win32"
  ]
}
```

æœåŠ¡çš„æ“ä½œç³»ç»Ÿæ˜¯ç”± `process.platform` æ¥åˆ¤æ–­çš„ï¼Œè¿™ä¸ªå±æ€§å…è®¸é»‘ç™½åå•åŒæ—¶å­˜åœ¨ï¼Œè™½ç„¶æ²¡å•¥å¿…è¦è¿™æ ·æ...

### 29. cpu

é™åˆ¶æ¨¡å—åªèƒ½åœ¨æŸæŸ cpu æ¶æ„ä¸‹è¿è¡Œ

```json
{
  "cpu": [
    "x64",
    "ia32"
  ]
}
```

åŒæ ·å¯ä»¥è®¾ç½®é»‘åå•ï¼šåŒä¸Š

> cpu æ¶æ„é€šè¿‡ process.arch åˆ¤æ–­

### 30. preferGlobal

å¦‚æœæ‚¨çš„è½¯ä»¶åŒ…ä¸»è¦ç”¨äºå®‰è£…åˆ°å…¨å±€çš„å‘½ä»¤è¡Œåº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆè¯¥å€¼è®¾ç½®ä¸º true ï¼Œå¦‚æœå®ƒè¢«å®‰è£…åœ¨æœ¬åœ°ï¼Œåˆ™æä¾›ä¸€ä¸ªè­¦å‘Šã€‚å®é™…ä¸Šè¯¥é…ç½®å¹¶æ²¡æœ‰é˜»æ­¢ç”¨æˆ·æŠŠæ¨¡å—å®‰è£…åˆ°æœ¬åœ°ï¼Œåªæ˜¯é˜²æ­¢è¯¥æ¨¡å—è¢«é”™è¯¯çš„ä½¿ç”¨å¼•èµ·ä¸€äº›é—®é¢˜ã€‚

### 31. private

å¦‚æœè®¾ç½®äº†`private: true`ï¼Œé‚£ä¹ˆnpmå°±ä¸ä¼šå‘å¸ƒä½ çš„åŒ…ã€‚è¿™æ˜¯ä¸€ç§é˜²æ­¢æ„å¤–å‘å¸ƒç§æœ‰åº“çš„æ–¹æ³•ã€‚å¦‚æœè¦ç¡®ä¿ç»™å®šçš„åŒ…åªå‘å¸ƒåˆ°ç‰¹å®šçš„åº“ä¸­ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ `publishConfig` å‘å¸ƒæ—¶é‡å†™é…ç½®å‚æ•°ã€‚

### 32. publishConfig

è¿™ä¸ªé…ç½®æ˜¯ä¼šåœ¨æ¨¡å—å‘å¸ƒæ—¶ç”¨åˆ°çš„ä¸€äº›å€¼çš„é›†åˆã€‚å¦‚æœä½ ä¸æƒ³æ¨¡å—è¢«é»˜è®¤è¢«æ ‡è®°ä¸ºæœ€æ–°çš„ï¼Œæˆ–è€…é»˜è®¤å‘å¸ƒåˆ°å…¬å…±ä»“åº“ï¼Œå¯ä»¥åœ¨è¿™é‡Œé…ç½® tag æˆ–ä»“åº“åœ°å€ã€‚è¯¦ç»†é…ç½®è¯·çœ‹ [config](https://docs.npmjs.com/cli/v7/using-npm/config)ã€‚

### 33. DEFAULT VALUES

npm è®¾ç½®äº†ä¸€äº›é»˜è®¤å‚æ•°ï¼Œå¦‚ï¼š

```json
{
  "scripts": {
	  "start": "node server.js"
  }
}
```

å¦‚æœæ¨¡å—æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ª server.js æ–‡ä»¶ï¼Œé‚£ä¹ˆ `npm start` ä¼šé»˜è®¤è¿è¡Œè¿™ä¸ªæ–‡ä»¶ã€‚

```json
{
  "scripts":{
    "preinstall": "node-gyp rebuild"
  }
}
```

å¦‚æœæ¨¡å—æ ¹ç›®å½•ä¸‹æœ‰ binding.gyp, npm å°†é»˜è®¤ç”¨ node-gyp æ¥ç¼–è¯‘ preinstall çš„è„šæœ¬ã€‚

```json
{
  "contributors": [...]
}
```

è‹¥æ¨¡å—æ ¹ç›®å½•ä¸‹æœ‰ AUTHORS æ–‡ä»¶ï¼Œåˆ™ npm ä¼šæŒ‰ Name (url) æ ¼å¼è§£ææ¯ä¸€è¡Œçš„æ•°æ®æ·»åŠ åˆ° `contributors` ä¸­ï¼Œå¯ä»¥ç”¨ `#` æ·»åŠ è¡Œæ³¨é‡Š

<a name="57OXP"></a>

## ä¸‰. æ€»ç»“

é‡åˆ°ä¸æ‡‚çš„è¿˜æ˜¯è¦å¤šçœ‹å¤šæ€»ç»“ï¼Œå®˜æ–¹æ–‡æ¡£æ˜¯ä¸ªå¥½ä¸œè¥¿~~ä¸è¦å› ä¸ºå…¨æ˜¯è‹±æ–‡çš„å°±ä¸çœ‹å•Š~~

## ğŸŒŸ. ç›¸å…³å‚è€ƒé“¾æ¥

- [npm Docs](https://docs.npmjs.com/)
- [package.json](https://docs.npmjs.com/cli/v7/configuring-npm/package-json#description)
- [About packages and modules](https://docs.npmjs.com/about-packages-and-modules)
- [init-package-json](https://github.com/npm/init-package-json)
- [Scripts](https://docs.npmjs.com/cli/v7/using-npm/scripts)
- [node-semverï¼šREADME](https://github.com/npm/node-semver#readme)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬å·](https://semver.org/lang/zh-CN/)
- [config](https://docs.npmjs.com/cli/v7/using-npm/config)
- [npm Docs](https://docs.npmjs.com/)
- [é€ƒä¹‹å¤­å¤­](https://www.cnblogs.com/tzyy/p/5193811.html#_h1_13)
